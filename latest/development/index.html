<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Curated set of climate data"><link href=https://climate-resource.github.io/bookshelf/latest/development/ rel=canonical><link href=../api/bookshelf_producer/notebook/ rel=prev><link href=../changelog/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.40"><title>Development - Bookshelf</title><link rel=stylesheet href=../assets/stylesheets/main.8c3ca2c6.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/_mkdocstrings.css><link rel=stylesheet href=../stylesheets/style.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=cr-light data-md-color-primary=teal data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#development class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=Bookshelf class="md-header__button md-logo" aria-label=Bookshelf data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Bookshelf </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Development </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=cr-light data-md-color-primary=teal data-md-color-accent=cyan aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=cr-dark data-md-color-primary=teal data-md-color-accent=cyan aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/climate-resource/bookshelf title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> climate-resource/bookshelf </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Bookshelf class="md-nav__button md-logo" aria-label=Bookshelf data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Bookshelf </label> <div class=md-nav__source> <a href=https://github.com/climate-resource/bookshelf title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> climate-resource/bookshelf </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Bookshelf </span> </a> </li> <li class=md-nav__item> <a href=../getting_started/ class=md-nav__link> <span class=md-ellipsis> Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../how-to-guides/ class="md-nav__link "> <span class=md-ellipsis> How-to guides </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> How-to guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../how-to-guides/analysis_with_a_book/ class=md-nav__link> <span class=md-ellipsis> Analysis </span> </a> </li> <li class=md-nav__item> <a href=../how-to-guides/find_all_books/ class=md-nav__link> <span class=md-ellipsis> Find all books </span> </a> </li> <li class=md-nav__item> <a href=../how-to-guides/create_a_new_volume/ class=md-nav__link> <span class=md-ellipsis> Create a new volume </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../tutorials/ class=md-nav__link> <span class=md-ellipsis> Tutorials </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Further background </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Further background </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../explanation/ class=md-nav__link> <span class=md-ellipsis> Explanation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> API reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> API reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <div class="md-nav__link md-nav__container"> <a href=../api/bookshelf/ class="md-nav__link "> <span class=md-ellipsis> bookshelf </span> </a> <label class="md-nav__link " for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> bookshelf </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../api/bookshelf/book/ class=md-nav__link> <span class=md-ellipsis> book </span> </a> </li> <li class=md-nav__item> <a href=../api/bookshelf/constants/ class=md-nav__link> <span class=md-ellipsis> constants </span> </a> </li> <li class=md-nav__item> <a href=../api/bookshelf/dataset_structure/ class=md-nav__link> <span class=md-ellipsis> dataset_structure </span> </a> </li> <li class=md-nav__item> <a href=../api/bookshelf/errors/ class=md-nav__link> <span class=md-ellipsis> errors </span> </a> </li> <li class=md-nav__item> <a href=../api/bookshelf/schema/ class=md-nav__link> <span class=md-ellipsis> schema </span> </a> </li> <li class=md-nav__item> <a href=../api/bookshelf/shelf/ class=md-nav__link> <span class=md-ellipsis> shelf </span> </a> </li> <li class=md-nav__item> <a href=../api/bookshelf/utils/ class=md-nav__link> <span class=md-ellipsis> utils </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <div class="md-nav__link md-nav__container"> <a href=../api/bookshelf_producer/ class="md-nav__link "> <span class=md-ellipsis> bookshelf_producer </span> </a> <label class="md-nav__link " for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> bookshelf_producer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../api/bookshelf_producer/actions/ class=md-nav__link> <span class=md-ellipsis> actions </span> </a> </li> <li class=md-nav__item> <a href=../api/bookshelf_producer/cli/ class=md-nav__link> <span class=md-ellipsis> cli </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2_3> <div class="md-nav__link md-nav__container"> <a href=../api/bookshelf_producer/commands/ class="md-nav__link "> <span class=md-ellipsis> commands </span> </a> <label class="md-nav__link " for=__nav_7_2_3 id=__nav_7_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_7_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2_3> <span class="md-nav__icon md-icon"></span> commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../api/bookshelf_producer/commands/cmd_publish/ class=md-nav__link> <span class=md-ellipsis> cmd_publish </span> </a> </li> <li class=md-nav__item> <a href=../api/bookshelf_producer/commands/cmd_run/ class=md-nav__link> <span class=md-ellipsis> cmd_run </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../api/bookshelf_producer/constants/ class=md-nav__link> <span class=md-ellipsis> constants </span> </a> </li> <li class=md-nav__item> <a href=../api/bookshelf_producer/notebook/ class=md-nav__link> <span class=md-ellipsis> notebook </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Development </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#workflows class=md-nav__link> <span class=md-ellipsis> Workflows </span> </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#language class=md-nav__link> <span class=md-ellipsis> Language </span> </a> </li> <li class=md-nav__item> <a href=#versioning class=md-nav__link> <span class=md-ellipsis> Versioning </span> </a> </li> <li class=md-nav__item> <a href=#the-notebooks-generating-the-datasets class=md-nav__link> <span class=md-ellipsis> The notebooks generating the datasets </span> </a> <nav class=md-nav aria-label="The notebooks generating the datasets"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-a-new-volume class=md-nav__link> <span class=md-ellipsis> Creating a new Volume </span> </a> </li> <li class=md-nav__item> <a href=#updating-a-volumes-version class=md-nav__link> <span class=md-ellipsis> Updating a Volume's version </span> </a> </li> <li class=md-nav__item> <a href=#testing-a-notebook-locally class=md-nav__link> <span class=md-ellipsis> Testing a notebook locally </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#releasing class=md-nav__link> <span class=md-ellipsis> Releasing </span> </a> <nav class=md-nav aria-label=Releasing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#standard-process class=md-nav__link> <span class=md-ellipsis> Standard process </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#workflows class=md-nav__link> <span class=md-ellipsis> Workflows </span> </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#language class=md-nav__link> <span class=md-ellipsis> Language </span> </a> </li> <li class=md-nav__item> <a href=#versioning class=md-nav__link> <span class=md-ellipsis> Versioning </span> </a> </li> <li class=md-nav__item> <a href=#the-notebooks-generating-the-datasets class=md-nav__link> <span class=md-ellipsis> The notebooks generating the datasets </span> </a> <nav class=md-nav aria-label="The notebooks generating the datasets"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-a-new-volume class=md-nav__link> <span class=md-ellipsis> Creating a new Volume </span> </a> </li> <li class=md-nav__item> <a href=#updating-a-volumes-version class=md-nav__link> <span class=md-ellipsis> Updating a Volume's version </span> </a> </li> <li class=md-nav__item> <a href=#testing-a-notebook-locally class=md-nav__link> <span class=md-ellipsis> Testing a notebook locally </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#releasing class=md-nav__link> <span class=md-ellipsis> Releasing </span> </a> <nav class=md-nav aria-label=Releasing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#standard-process class=md-nav__link> <span class=md-ellipsis> Standard process </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=development>Development<a class=headerlink href=#development title="Permanent link">#</a></h1> <p>Notes for developers. If you want to get involved, please do! We welcome all kinds of contributions, for example:</p> <ul> <li>docs fixes/clarifications</li> <li>bug reports</li> <li>bug fixes</li> <li>feature requests</li> <li>pull requests</li> <li>tutorials</li> </ul> <h2 id=workflows>Workflows<a class=headerlink href=#workflows title="Permanent link">#</a></h2> <!---
Note: will make more sense once we have a copier template again.
This section was auto-generated by the copier template
and the text below is just a placeholder to get you started.
The workflows section will likely need to be updated
to be project specific as the project's norms are established.
--> <p>We don't mind whether you use a branching or forking workflow. However, please only push to your own branches, pushing to other people's branches is often a recipe for disaster, is never required in our experience so is best avoided.</p> <p>Try and keep your merge requests as small as possible (focus on one thing if you can). This makes life much easier for reviewers which allows contributions to be accepted at a faster rate.</p> <h2 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">#</a></h2> <p>For development, we rely on <a href=https://docs.astral.sh/uv>uv</a> for all our dependency management. To get started, you will need to make sure that <code>uv</code> is installed (<a href=https://docs.astral.sh/uv/getting-started/installation/ >instructions here</a>).</p> <p>This project is a <code>uv</code> workspace, which means that it contains more than one Python package. <code>uv</code> commands will by default target the root <code>bookshelf</code> package, but if you wish to target another package you can use the <code>--package</code> flag.</p> <p>For all of work, we use our <code>Makefile</code>. You can read the instructions out and run the commands by hand if you wish, but we generally discourage this because it can be error prone. In order to create your environment, run <code>make virtual-environment</code>.</p> <p>If there are any issues, the messages from the <code>Makefile</code> should guide you through. If not, please raise an issue in the <a href="https://github.com/climate-resource/bookshelf/issues?q=sort%3Aupdated-desc+is%3Aissue+is%3Aopen">issue tracker</a>.</p> <h2 id=language>Language<a class=headerlink href=#language title="Permanent link">#</a></h2> <p>We use British English for our development. We do this for consistency with the broader work context of our lead developers.</p> <h2 id=versioning>Versioning<a class=headerlink href=#versioning title="Permanent link">#</a></h2> <p>This package follows the version format described in <a href=https://peps.python.org/pep-0440/ >PEP440</a> and <a href=https://semver.org/ >Semantic Versioning</a> to describe how the version should change depending on the updates to the code base.</p> <p>Our commit messages are written using written to follow the <a href=https://www.conventionalcommits.org/en/v1.0.0/ >conventional commits</a> standard which makes it easy to find the commits that matter when traversing through the commit history.</p> <div class=admonition> <p class=admonition-title>Note</p> <p>We don't use the commit messages from conventional commits to automatically generate the changelog and release documentation.</p> </div> <h2 id=the-notebooks-generating-the-datasets>The notebooks generating the datasets<a class=headerlink href=#the-notebooks-generating-the-datasets title="Permanent link">#</a></h2> <p>The top-level directory <code>notebooks</code> contains the notebooks used to produce the <code>Book</code>s. Each notebook corresponds with a single <code>Volume</code> (collection of <code>Book</code>s with the same <code>name</code>).</p> <p>Each notebook also has a corresponding <code>.yaml</code> file containing the latest metadata for the <code>Book</code>. See the <code>NotebookMetadata</code> schema(<code>bookshelf.schema.NotebookMetadata</code>) for the expected format of this file.</p> <h3 id=creating-a-new-volume>Creating a new <code>Volume</code><a class=headerlink href=#creating-a-new-volume title="Permanent link">#</a></h3> <ul> <li>Start by copying <code>example.py</code> and <code>example.yaml</code> and renaming to the name of the new volume. This provides a simple example to get started.</li> <li>Update <code>{volume}.yaml</code> with the correct metadata</li> <li>Update the fetch and processing steps as needed, adding additional <code>Resource</code>s to the <code>Book</code> as needed.</li> <li>Run the notebook and check the output</li> <li><strong>TODO</strong> Perform the release procedure to upload the built book to the remote <code>BookShelf</code> <code>bookshelf save {volume}</code></li> </ul> <h3 id=updating-a-volumes-version>Updating a <code>Volume</code>'s version<a class=headerlink href=#updating-a-volumes-version title="Permanent link">#</a></h3> <ul> <li>Update the <code>version</code> attribute in the metadata file</li> <li>Modify other metadata attributes as needed</li> <li>Update the data fetching and processing steps in the notebook</li> <li>Run the notebook and check the output</li> <li><strong>TODO</strong> Perform the release procedure to upload the built book to the remote <code>BookShelf</code></li> </ul> <h3 id=testing-a-notebook-locally>Testing a notebook locally<a class=headerlink href=#testing-a-notebook-locally title="Permanent link">#</a></h3> <p>You can run a notebook with a specified output directory for local testing: <div class="language-bash highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>uv<span class=w> </span>run<span class=w> </span>bookshelf<span class=w> </span>run<span class=w> </span>--output<span class=w> </span>/path/to/custom/directory<span class=w> </span>&lt;notebook_name&gt;
</span></code></pre></div></p> <p>The generated book can then be used directly from the local directory. Note that the path to the custom directory needs to specify the <code>version</code> of the Book. When loading the Book, you must also specify the version and the edition otherwise it will query the remote bookshelf.</p> <p><div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=kn>import</span> <span class=nn>bookshelf</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=n>shelf</span> <span class=o>=</span> <span class=n>bookshelf</span><span class=o>.</span><span class=n>BookShelf</span><span class=p>(</span><span class=s2>&quot;/path/to/custom/directory/</span><span class=si>{version}</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=n>edition</span> <span class=o>=</span> <span class=mi>1</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=n>new_book</span> <span class=o>=</span> <span class=n>shelf</span><span class=o>.</span><span class=n>load</span><span class=p>(</span><span class=s2>&quot;</span><span class=si>{notebook_name}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>version</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>{version}</span><span class=s2>&quot;</span><span class=p>,</span> <span class=n>edition</span><span class=o>=</span><span class=n>edition</span><span class=p>)</span>
</span></code></pre></div> When updating an existing Book, remember to increase the version or the edition to make sure you load your newly generated data, not the old data.</p> <h2 id=releasing>Releasing<a class=headerlink href=#releasing title="Permanent link">#</a></h2> <p>Releasing is semi-automated via a CI job. The CI job requires the type of version bump that will be performed to be manually specified. See the poetry docs for the <a href=https://python-poetry.org/docs/cli/#version>list of available bump rules</a>.</p> <h3 id=standard-process>Standard process<a class=headerlink href=#standard-process title="Permanent link">#</a></h3> <p>The steps required are the following:</p> <ol> <li> <p>Bump the version: manually trigger the "bump" stage from the latest commit in main (pipelines are <a href=https://github.com/climate-resource/bookshelf/-/pipelines>here</a>). A valid "bump_rule" (see https://python-poetry.org/docs/cli/#version) will need to be specified via the "BUMP_RULE" CI variable (see https://docs.gitlab.com/ee/ci/variables/). This will then trigger a release, including publication to PyPI.</p> </li> <li> <p>Download the artefacts from the release job. The <code>release_notes.md</code> artefact will be pre-filled with the list of changes included in this release. You find it in the release-bundle zip file at <a href=https://gitlab.com/climate-resource/bookshelf/bookshelf/-/artifacts>the artefacts section</a>. The announcements section should be completed manually to highlight any particularly notable changes or other announcements (or deleted if not relevant for this release).</p> </li> <li> <p>Once the release notes are filled out, use them to make a <a href=https://gitlab.com/climate-resource/bookshelf/bookshelf/-/releases/new>release</a>.</p> </li> <li> <p>That's it, release done, make noise on social media of choice, do whatever else</p> </li> <li> <p>Enjoy the newly available version</p> </li> </ol> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../assets/javascripts/bundle.525ec568.min.js></script> </body> </html>